<!--pages/agentPay/index.wxml-->
<view class='wxgitem flex_btw ' bindtap="cascadePopup">
  <view class='left'>选择区域</view>
  <input  name='area_id' value='{{areaSelectedStr}}' disabled='disabled'  ></input>
  <text class='iconfont icon-jiantou color898989'></text>
</view>
<view class='btn' bindtap='open2'>前往支付</view>

<wux-popup closable position="bottom" visible="{{ visible2 }}" bind:close="onClose2">
    <view class='center color4 size36 csgg'>选择支付方式</view>
    <view class='center colorFE3434 size60 csgg'>￥{{pay_amount}}</view>
    <view  >
      <view class='label' wx:for="{{result.payment_usable}}" wx:key ="index">
        <view>
        <view class='flex align_center radioitem'  bindtap='choose' data-index="{{index}}" data-key="{{item.key}}">
          <image src='../../images/choosed.png' class='choose' wx:if="{{item.choosed==1}}" mode='aspectFit'></image>
          <image src='../../images/choose.png'  class='choose' wx:else mode='aspectFit'></image>
          <view class='left'>
            <text class='size28 color4'>{{item.name}} \n </text>
          </view>
        </view>
        <view wx:if="{{item.options&&item.choosed==1}}">
          <block wx:for="{{item.options}}" wx:key="index">
          <view class='flex align_center radioitem radioinstallment'  bindtap='choosed' data-index="{{index}}" data-key="{{item.key}}">
            <image src='../../images/choosed.png' class='choose' wx:if="{{item.choosed==1}}" mode='aspectFit'></image>
            <image src='../../images/choose.png'  class='choose' wx:else mode='aspectFit'></image>
            <view class='left'>
              <text class='size28 color4'>{{item.name}} </text>
            </view>
          </view>
          </block>
        </view>
        </view>
      </view>  
    </view>
  <button bindtap="close2" class='pay goodsBuy size36 marginb60'>确认支付</button>
</wux-popup>
<view class="modal">
	<view class="modal-mask {{maskVisual}}" bindtap="cascadeDismiss"></view>
	<view animation="{{animationData}}" class="modal-content">
	    <view class="modal-header">
	        <text class="modal-title">所在地区</text>
          
	        <image src="../../images/cuo.png" class="modal-close" bindtap="cascadeDismiss" />
	    </view>
	    <view class="modal-body">

	    	<text class="viewpager-title {{current == 0 ? 'area-selected' : ''}}" bindtap="changeCurrent" data-current="0">{{provinceName}}</text>
	    	<text class="viewpager-title {{current == 1 ? 'area-selected' : ''}}" bindtap="changeCurrent" data-current="1">{{cityName}}</text>
	    	<text class="viewpager-title {{current == 2 ? 'area-selected' : ''}}" bindtap="changeCurrent" data-current="2">{{regionName}}</text>
	    	<text class="viewpager-title {{current == 3 ? 'area-selected' : ''}}" bindtap="changeCurrent" data-current="3">{{townName}}</text>

			<view class="viewpager-divider"></view>
			<swiper class="swiper-area" current="{{current}}" bindchange="currentChanged">
				<block wx:if="{{province.length > 0}}">
					<swiper-item>
						<scroll-view scroll-y="true" class="viewpager-listview">
							<view wx:for="{{province}}" wx:key="index" data-index="{{index}}" bindtap="provinceTapped">
								<text wx:if="{{index == provinceIndex}}" class="area-selected">{{item}}</text>
								<text wx:else>{{item}}</text>
							</view>
						</scroll-view>
					</swiper-item>
				</block>
				<block wx:if="{{city.length > 0}}">
					<swiper-item>
						<scroll-view scroll-y="true" class="viewpager-listview">
							<view wx:for="{{city}}" wx:key="index" data-index="{{index}}" bindtap="cityTapped">
								<text wx:if="{{index == cityIndex}}" class="area-selected">{{item}}</text>
								<text wx:else>{{item}}</text>
							</view>
						</scroll-view>
					</swiper-item>
				</block>
				<block wx:if="{{region.length > 0}}">
					<swiper-item>
						<scroll-view scroll-y="true" class="viewpager-listview">
							<view wx:for="{{region}}" wx:key="index" data-index="{{index}}" bindtap="regionTapped">
								<text wx:if="{{index == regionIndex}}" class="area-selected">{{item}}</text>
								<text wx:else>{{item}}</text>
							</view>
						</scroll-view>
					</swiper-item>
				</block>
				<block wx:if="{{town.length > 0}}">
					<swiper-item>
						<scroll-view scroll-y="true" class="viewpager-listview">
							<view wx:for="{{town}}" wx:key="index" data-index="{{index}}" bindtap="townTapped">
								<text wx:if="{{index == townIndex}}" class="area-selected">{{item}}</text>
								<text wx:else>{{item}}</text>
							</view>
						</scroll-view>
					</swiper-item>
				</block>
			</swiper>
	    </view>
	</view>
</view>